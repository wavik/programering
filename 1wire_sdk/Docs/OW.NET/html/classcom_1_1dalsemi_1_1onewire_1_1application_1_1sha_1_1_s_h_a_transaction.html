<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>1-Wire API for .NET: SHATransaction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">1-Wire API for .NET&#160;<span id="projectnumber">Version 4.00</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>com</b>      </li>
      <li class="navelem"><b>dalsemi</b>      </li>
      <li class="navelem"><b>onewire</b>      </li>
      <li class="navelem"><b>application</b>      </li>
      <li class="navelem"><b>sha</b>      </li>
      <li class="navelem"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pac-static-attribs">Static Package Attributes</a>  </div>
  <div class="headertitle">
<h1>SHATransaction Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="com::dalsemi::onewire::application::sha::SHATransaction" -->
<p>Inherited by <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html">SHASoftAuth</a>.</p>

<p><a href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#ac21949d55d67e835061fed83fbc8c77f">getLastError</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#ab3c71d256d5d7e0f04abb3deaf8e2baa">getLastCoprError</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a2cfdd1a0369a6bda99d047236e42bf13">setupTransactionData</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> user)  throws OneWireException, OneWireIOException</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a88982428d4712af0c31482f26c9de130">verifyUser</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> user)  throws OneWireException, OneWireIOException</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a1156e4d9b90a949ceced9628f3243d81">verifyTransactionData</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> user)  throws OneWireException, OneWireIOException</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#ae51d940f197a36885ebdad4d78674fc2">executeTransaction</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> user, boolean verifySuccess)  throws OneWireException, OneWireIOException</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#ac780b8be7f3e9ca75832d7805f0d2465">setParameter</a> (int type, int param)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a7285b98e7a37c0ef3f575bf45987060b">getParameter</a> (int type)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">abstract void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#aa3627d753f75ad8b9cda5f5946c21ea5">resetParameters</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a169a69d07866e4a04106711853f4e5ba">SHATransaction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a2901f4e4494f5b3ca373eb221f336b8d">SHATransaction</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a> <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a78ff0ab7aa37de334f7b9650b4fdc0eb">copr</a>)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24bfa093ca0b9fb40100031006db9f17"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::lastError" ref="a24bfa093ca0b9fb40100031006db9f17" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a24bfa093ca0b9fb40100031006db9f17">lastError</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The last error that occurred during this transaction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78ff0ab7aa37de334f7b9650b4fdc0eb"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::copr" ref="a78ff0ab7aa37de334f7b9650b4fdc0eb" args="" -->
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a78ff0ab7aa37de334f7b9650b4fdc0eb">copr</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The coprocessor used to complete this transaction. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pac-static-attribs"></a>
Static Package Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8270736aa6257cdc33f11a875840a05e"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::DEBUG" ref="a8270736aa6257cdc33f11a875840a05e" args="" -->
static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html#a8270736aa6257cdc33f11a875840a05e">DEBUG</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on extra debugging for all SHATransactions. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Abstract super class for all SHA Transactions. Typical SHA transactions might be something like an account debit application, a door access control system, or a web-based authentication servlet. The <code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a></code> super class contains the bare minimum functionality necessary for the steps involved in most SHA transaction applications.</p>
<p>The first characteristic of a SHA Transaction is that it is tied to an immutable <code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a></code>, used for data signing and recreating user authentication responses. The SHA Transaction guarantees an interface for initializing account transaction data (<code>setupTransactionData</code>), verifying that the transaction data has not been tampered with (<code>verifyTransactionData</code>), performing the transaction and updating the data (<code>executeTransaction</code>), and validating a user with a challenge-response authentication protocol (<code>verifyUser</code>).</p>
<p>In addition, all transactions are characterized by certain parameters (i.e. how much to debit from the user or what level of access is being requested from the system). The interface for retrieving and setting these parameters is provided through the generic <code>getParameter</code> and <code>setParameter</code>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html">SHADebit</a> </dd>
<dd>
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html">SHADebitUnsigned</a></dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.00 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>SKH </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a169a69d07866e4a04106711853f4e5ba"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::SHATransaction" ref="a169a69d07866e4a04106711853f4e5ba" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>User applications should not instantiate this class without an instance of a coprocessor. </p>

</div>
</div>
<a class="anchor" id="a2901f4e4494f5b3ca373eb221f336b8d"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::SHATransaction" ref="a2901f4e4494f5b3ca373eb221f336b8d" args="(SHAiButtonCopr copr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a>&#160;</td>
          <td class="paramname"><em>copr</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a>, ensuring that reference to the coprocessor is saved and the errors are cleared. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae51d940f197a36885ebdad4d78674fc2"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::executeTransaction" ref="ae51d940f197a36885ebdad4d78674fc2" args="(SHAiButtonUser user, boolean verifySuccess)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean executeTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a>&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>verifySuccess</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html">OneWireException</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_one_wire_i_o_exception.html">OneWireIOException</a><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs the transaction. For any given transaction type, this step would involve updating any necessary account data, signing the account data using the coprocessor's system signing secret, and writing the updated account data to the user iButton </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#aef4002374912ef09e96ba0c4fd573601">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#aef4002374912ef09e96ba0c4fd573601">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#aef4002374912ef09e96ba0c4fd573601">SHASoftAuth</a>.</p>

</div>
</div>
<a class="anchor" id="ab3c71d256d5d7e0f04abb3deaf8e2baa"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::getLastCoprError" ref="ab3c71d256d5d7e0f04abb3deaf8e2baa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getLastCoprError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the error code for the last error in the transaction process. </p>

</div>
</div>
<a class="anchor" id="ac21949d55d67e835061fed83fbc8c77f"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::getLastError" ref="ac21949d55d67e835061fed83fbc8c77f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getLastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the error code for the last error in the transaction process. </p>

</div>
</div>
<a class="anchor" id="a7285b98e7a37c0ef3f575bf45987060b"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::getParameter" ref="a7285b98e7a37c0ef3f575bf45987060b" args="(int type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract int getParameter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieves the value of a particular parameter for this transaction. Parameters are specified in the class documentation for the specific type of transaction that is being peformed. </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#a7a1ccb6ae9d104267321fa62b03eecd8">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#a7a1ccb6ae9d104267321fa62b03eecd8">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#a7a1ccb6ae9d104267321fa62b03eecd8">SHASoftAuth</a>.</p>

</div>
</div>
<a class="anchor" id="aa3627d753f75ad8b9cda5f5946c21ea5"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::resetParameters" ref="aa3627d753f75ad8b9cda5f5946c21ea5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract void resetParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Resets the value of all parameters for this transaction. Parameters are specified in the class documentation for the specific type of transaction that is being peformed. </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#a6f304fcc40f754d947ee2bb0bff81a5e">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#a6f304fcc40f754d947ee2bb0bff81a5e">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#a6f304fcc40f754d947ee2bb0bff81a5e">SHASoftAuth</a>.</p>

</div>
</div>
<a class="anchor" id="ac780b8be7f3e9ca75832d7805f0d2465"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::setParameter" ref="ac780b8be7f3e9ca75832d7805f0d2465" args="(int type, int param)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean setParameter </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets a particular parameter for this transaction. Parameters are specified in the class documentation for the specific type of transaction that is being peformed. </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#a7d202c80348a490a39192b3e40c07715">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#a7d202c80348a490a39192b3e40c07715">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#a7d202c80348a490a39192b3e40c07715">SHASoftAuth</a>.</p>

</div>
</div>
<a class="anchor" id="a2cfdd1a0369a6bda99d047236e42bf13"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::setupTransactionData" ref="a2cfdd1a0369a6bda99d047236e42bf13" args="(SHAiButtonUser user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean setupTransactionData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a>&#160;</td>
          <td class="paramname"><em>user</em></td><td>)</td>
          <td>  throws <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html">OneWireException</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_one_wire_i_o_exception.html">OneWireIOException</a><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Setups initial transaction data on <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a>. This step creates the account data file, signs it with the coprocessor, and writes it to the iButton. </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#afde2085953708095d7f28782b76fb856">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#afde2085953708095d7f28782b76fb856">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#afde2085953708095d7f28782b76fb856">SHASoftAuth</a>.</p>

</div>
</div>
<a class="anchor" id="a1156e4d9b90a949ceced9628f3243d81"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::verifyTransactionData" ref="a1156e4d9b90a949ceced9628f3243d81" args="(SHAiButtonUser user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean verifyTransactionData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a>&#160;</td>
          <td class="paramname"><em>user</em></td><td>)</td>
          <td>  throws <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html">OneWireException</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_one_wire_i_o_exception.html">OneWireIOException</a><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Verifies account data is valid for this service. The user's account data is recreated on the coprocessor and signed using the system signing secret. If the recreated signature matches the signature in the account data, the account data is valid. </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#a793409b39142b332af744ba7d382f47a">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#a793409b39142b332af744ba7d382f47a">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#a793409b39142b332af744ba7d382f47a">SHASoftAuth</a>.</p>

</div>
</div>
<a class="anchor" id="a88982428d4712af0c31482f26c9de130"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHATransaction::verifyUser" ref="a88982428d4712af0c31482f26c9de130" args="(SHAiButtonUser user)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">abstract boolean verifyUser </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a>&#160;</td>
          <td class="paramname"><em>user</em></td><td>)</td>
          <td>  throws <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html">OneWireException</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_one_wire_i_o_exception.html">OneWireIOException</a><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Verifies that <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> is a valid user of this service. This step writes a three byte challenge to the <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> before doing an authenticated read of the account data. The returned MAC is verified using the system authentication secret on the coprocessor. If the MAC matches that generated by the coprocessor, this function returns true. </p>

<p>Implemented in <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit.html#a96f03162a02e808f473e305ea4bfed8a">SHADebit</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_debit_unsigned.html#a96f03162a02e808f473e305ea4bfed8a">SHADebitUnsigned</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_soft_auth.html#a96f03162a02e808f473e305ea4bfed8a">SHASoftAuth</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SHATransaction.java</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 6 2012 09:24:55 for 1-Wire API for .NET by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
