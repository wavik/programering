<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>1-Wire API for .NET: SHAiButtonCopr Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">1-Wire API for .NET&#160;<span id="projectnumber">Version 4.00</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>com</b>      </li>
      <li class="navelem"><b>dalsemi</b>      </li>
      <li class="navelem"><b>onewire</b>      </li>
      <li class="navelem"><b>application</b>      </li>
      <li class="navelem"><b>sha</b>      </li>
      <li class="navelem"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pac-static-attribs">Static Package Attributes</a>  </div>
  <div class="headertitle">
<h1>SHAiButtonCopr Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="com::dalsemi::onewire::application::sha::SHAiButtonCopr" -->
<p>Inherited by <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr_v_m.html">SHAiButtonCoprVM</a>.</p>

<p><a href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a40d089c85e88e5cd424f8aa3ce5e92b8">SHAiButtonCopr</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container18.html">OneWireContainer18</a> l_owc, String coprFilename, boolean l_formatDevice, int l_signPageNumber, int l_authPageNumber, int l_wspcPageNumber, int l_version, int l_encCode, byte l_serviceFileExt, byte[] l_serviceFilename, byte[] l_providerName, byte[] l_bindData, byte[] l_bindCode, byte[] l_auxData, byte[] l_initialSignature, byte[] l_signingChlg, byte[] l_signingSecret, byte[] l_authSecret)  throws OneWireException, OneWireIOException    </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a13b4f2e5386c54c4f7ae5d9f3247fc11">SHAiButtonCopr</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container18.html">OneWireContainer18</a> owc, String coprFilename)  throws OneWireException, OneWireIOException    </td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a7615658e88348fa9514e01aa8c551415">SHAiButtonCopr</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24bfa093ca0b9fb40100031006db9f17"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::lastError" ref="a24bfa093ca0b9fb40100031006db9f17" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a24bfa093ca0b9fb40100031006db9f17">lastError</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last error code raised. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a717a95f49d2ecee626df2aa891bba157"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::ibc" ref="a717a95f49d2ecee626df2aa891bba157" args="" -->
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container18.html">OneWireContainer18</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a717a95f49d2ecee626df2aa891bba157">ibc</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the OneWireContainer. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecdceb50e33ccd2ce811aba2f6cf0b6b"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::address" ref="aecdceb50e33ccd2ce811aba2f6cf0b6b" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#aecdceb50e33ccd2ce811aba2f6cf0b6b">address</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache of 1-Wire Address. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3247319bcd9822d174e7727e21861768"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::authPageNumber" ref="a3247319bcd9822d174e7727e21861768" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a3247319bcd9822d174e7727e21861768">authPageNumber</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Page used for generating user authentication secret. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad70622426d7c7f095e935bd417a2dc89"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::auxData" ref="ad70622426d7c7f095e935bd417a2dc89" args="" -->
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#ad70622426d7c7f095e935bd417a2dc89">auxData</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Any auxilliary data stored on this coprocessor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad263aba0c6222c125e4fdda0cbf6ab55"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::bindCode" ref="ad263aba0c6222c125e4fdda0cbf6ab55" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#ad263aba0c6222c125e4fdda0cbf6ab55">bindCode</a> = new byte [7]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">7 bytes of binding data for scratchpad to bind secret installation <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72c05505348ee6893d54f0316d7a6830"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::bindData" ref="a72c05505348ee6893d54f0316d7a6830" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a72c05505348ee6893d54f0316d7a6830">bindData</a> = new byte [32]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">32 bytes of binding data to bind secret installation <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#ae3883023353ef786ccf0ead53ee2219c">DS1961Scompatible</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies whether or not this coprocessor is compatible with the DS1961S.  <a href="#ae3883023353ef786ccf0ead53ee2219c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a85a5877e028437da12f26a23cb2e83"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::encCode" ref="a4a85a5877e028437da12f26a23cb2e83" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a4a85a5877e028437da12f26a23cb2e83">encCode</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Code used to specify encryption type. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a398e4c20ef2f98ff2e49231275e59f1b"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::filename" ref="a398e4c20ef2f98ff2e49231275e59f1b" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a398e4c20ef2f98ff2e49231275e59f1b">filename</a> = new byte[5]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Filename, including extension, for user's service file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabacd213fe5405746cfc46a016f43807"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::initialSignature" ref="aabacd213fe5405746cfc46a016f43807" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#aabacd213fe5405746cfc46a016f43807">initialSignature</a> = new byte [20]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">20 byte initial signature, used for signing user account data <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbf3b5a3e1926cff4cae134e9f96927e"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::providerName" ref="adbf3b5a3e1926cff4cae134e9f96927e" args="" -->
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#adbf3b5a3e1926cff4cae134e9f96927e">providerName</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The Provider name of the coprocessor's service. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae71da956fd1bc0daf5c769f78a8df6b9"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::signingChallenge" ref="ae71da956fd1bc0daf5c769f78a8df6b9" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#ae71da956fd1bc0daf5c769f78a8df6b9">signingChallenge</a> = new byte [3]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">3 byte challenge, used for signing user account data <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad4e1bc804efb8dfbe52b977c560864a"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::signPageNumber" ref="aad4e1bc804efb8dfbe52b977c560864a" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#aad4e1bc804efb8dfbe52b977c560864a">signPageNumber</a> = 8</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Page used for signing user account data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad880fc4455c253781e8968f2239d56f"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::version" ref="aad880fc4455c253781e8968f2239d56f" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#aad880fc4455c253781e8968f2239d56f">version</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Code used to specify encryption type. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6220f355d71f3421a1da8897547abe9"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::wspcPageNumber" ref="af6220f355d71f3421a1da8897547abe9" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#af6220f355d71f3421a1da8897547abe9">wspcPageNumber</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Page used for generating user's validation MAC. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pac-static-attribs"></a>
Static Package Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8270736aa6257cdc33f11a875840a05e"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::DEBUG" ref="a8270736aa6257cdc33f11a875840a05e" args="" -->
static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a8270736aa6257cdc33f11a875840a05e">DEBUG</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on extra debugging output. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Class for holding instances of SHA iButton Coprocessors involved in SHA Transactions. The Coprocessor is used for digitally signing transaction data as well as generating random challenges for users and verifying their response.</p>
<p>A DS1963S SHA iButton can be a <code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a></code> or a <code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a></code>. A Coprocessor iButton verifiessignatures and signs data for User iButtons. A Coprocessor might be located inside a vending machine, where a person would bring their User iButton. When the User iButton is pressed to the Blue Dot to perform a transaction, the Coprocessor would first verify that this button belongs to the system, i.e. that it knows the same authentication secret (example: a Visa terminal making sure the iButton had a Visa account installed). Then the Coprocessor would verify the signed data, probably money, to make sure it was valid. If someone tried to overwrite the money file, even with a previously valid money file (an attempt to 'restore' a previous amount of money), the signed file would be invalid because the signature includes the write cycle counter, which is incremented every time a page is written to. The write cycle counter is read-only and does not roll over, so the previous amount of money could not be restored by rolling the write counter. The Coprocessor verifies the money, then signs a new data file that contains the new amount of money. </p>
<p>There are two secrets involved with the transaction process. The first secret is the authentication secret. It is used to validate a User iButton to a system. The Coprocessor iButton has the system authentication secret installed. On User iButtons, the system authentication secret is merged with binding data and the unique address of the User iButton to create a unique device authentication secret. The second secret is a signing secret. This secret only exists on the Coprocessor iButton, and is used to sign and verify transaction data (i.e. money). These secrets are inaccessible outside the iButton. Once they are installed, they cannot be retrieved.</p>
<p>This class makes use of several performance enhancements for TINI. For instance, most methods are <code>synchronized</code> to access instance variable byte arrays rather than creating new byte arrays every time a transaction is performed. This could hurt performance in multi-threaded applications, but the usefulness of having several threads contending to talk to a single iButton is questionable since the methods in <code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_d_s_port_adapter.html" title="The abstract base class for all 1-Wire port adapter objects.">com.dalsemi.onewire.adapter.DSPortAdapter</a></code> <code>beginExclusive(boolean)</code> and <code>endExclusive()</code> should be used.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a> </dd>
<dd>
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a></dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.00 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>SKH </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7615658e88348fa9514e01aa8c551415"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::SHAiButtonCopr" ref="a7615658e88348fa9514e01aa8c551415" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>No default construct for user apps. Coprocessors, unlike users, are immutable classes, so there is no <code>setiButton</code> for User applications.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a40d089c85e88e5cd424f8aa3ce5e92b8">SHAiButtonCopr(OneWireContainer18,String,boolean,int,int,int,int,int,byte,byte[],byte[],byte[],byte[],byte[],byte[],byte[],byte[],byte[])</a> </dd>
<dd>
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a13b4f2e5386c54c4f7ae5d9f3247fc11">SHAiButtonCopr(OneWireContainer18,String)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a40d089c85e88e5cd424f8aa3ce5e92b8"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::SHAiButtonCopr" ref="a40d089c85e88e5cd424f8aa3ce5e92b8" args="(OneWireContainer18 l_owc, String coprFilename, boolean l_formatDevice, int l_signPageNumber, int l_authPageNumber, int l_wspcPageNumber, int l_version, int l_encCode, byte l_serviceFileExt, byte[] l_serviceFilename, byte[] l_providerName, byte[] l_bindData, byte[] l_bindCode, byte[] l_auxData, byte[] l_initialSignature, byte[] l_signingChlg, byte[] l_signingSecret, byte[] l_authSecret)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container18.html">OneWireContainer18</a>&#160;</td>
          <td class="paramname"><em>l_owc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>coprFilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>l_formatDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l_signPageNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l_authPageNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l_wspcPageNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l_encCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>l_serviceFileExt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_serviceFilename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_providerName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_bindData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_bindCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_auxData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_initialSignature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_signingChlg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_signingSecret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>l_authSecret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html">OneWireException</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_one_wire_i_o_exception.html">OneWireIOException</a>    </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets up this coprocessor object based on the provided parameters and saves all of these parameters as the contents of the file <code>coprFilename</code> stored on <code>owc</code>. Then, the system secret and authentication secret are installed on the coprocessor button.</p>
<p>For the proper format of the coprocessor data file, see the document entitled "Implementing Secured D-Identification and E-Payment
 Applications using SHA iButtons". For the format of TMEX file structures, see Application Note 114.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">l_owc</td><td>The DS1963S used as a coprocessor. </td></tr>
    <tr><td class="paramname">coprFilename</td><td>The TMEX filename where coprocessor configuration data is stored. Usually, "COPR.0". </td></tr>
    <tr><td class="paramname">l_formatDevice</td><td>boolean indicating whether or not the TMEX filesystem of this device should be formatted before the coprocessor data file is stored. </td></tr>
    <tr><td class="paramname">l_signPageNumber</td><td>page number used for signing user account data. (Should be page 8, but page 0 is acceptable if you don't need the TMEX directory structure) </td></tr>
    <tr><td class="paramname">l_authPageNumber</td><td>page number used for recreating user secret. </td></tr>
    <tr><td class="paramname">l_wspcPageNumber</td><td>page number used for storing user secret and recreating authentication MAC. </td></tr>
    <tr><td class="paramname">l_version</td><td>version of the service provided by this coprocessor. </td></tr>
    <tr><td class="paramname">l_encCode</td><td>refers to a type of encryption used for user account data stored on user buttons. </td></tr>
    <tr><td class="paramname">l_serviceFileExt</td><td>the file extension used for the service file. (An extension of decimal 102 is reserved for Money files). </td></tr>
    <tr><td class="paramname">l_serviceFilename</td><td>the 4-byte name of the user's account data file. </td></tr>
    <tr><td class="paramname">l_providerName</td><td>the name of the provider of this service </td></tr>
    <tr><td class="paramname">l_bindData</td><td>the binding data used to finalize secret installation on user buttons. </td></tr>
    <tr><td class="paramname">l_bindCode</td><td>the binding code used to finalize secret installation on user buttons. </td></tr>
    <tr><td class="paramname">l_auxData</td><td>any auxilliary or miscellaneous data to be stored on the coprocessor. </td></tr>
    <tr><td class="paramname">l_initialSignature</td><td>the 20-byte initial MAC placed in user account data before generating actual MAC. </td></tr>
    <tr><td class="paramname">l_signingChlg</td><td>the 3-byte challenge used for signing user account data. </td></tr>
    <tr><td class="paramname">l_signingSecret</td><td>the system signing secret used by the service being installed on this coprocessor. </td></tr>
    <tr><td class="paramname">l_authSecret</td><td>the system authentication secret used by the service being installed on this coprocessor.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a13b4f2e5386c54c4f7ae5d9f3247fc11">SHAiButtonCopr(OneWireContainer18,String)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a13b4f2e5386c54c4f7ae5d9f3247fc11"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::SHAiButtonCopr" ref="a13b4f2e5386c54c4f7ae5d9f3247fc11" args="(OneWireContainer18 owc, String coprFilename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container18.html">OneWireContainer18</a>&#160;</td>
          <td class="paramname"><em>owc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>coprFilename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throws <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html">OneWireException</a>, <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1adapter_1_1_one_wire_i_o_exception.html">OneWireIOException</a>    </td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets up this coprocessor object based on the contents of the file <code>coprFilename</code> stored on <code>owc</code>. This sets all the properties of the object as a consequence of what's in the coprocessor file.</p>
<p>For the proper format of the coprocessor data file, see the document entitled "Implementing Secured D-Identification and E-Payment
 Applications using SHA iButtons". For the format of TMEX file structures, see Application Note 114.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">owc</td><td>The DS1963S used as a coprocessor </td></tr>
    <tr><td class="paramname">coprFilename</td><td>The TMEX filename where coprocessor configuration data is stored. Usually, "COPR.0".</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#a40d089c85e88e5cd424f8aa3ce5e92b8">SHAiButtonCopr(OneWireContainer18,String,boolean,int,int,int,int,int,byte,byte[],byte[],byte[],byte[],byte[],byte[],byte[],byte[],byte[])</a> </dd></dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae3883023353ef786ccf0ead53ee2219c"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonCopr::DS1961Scompatible" ref="ae3883023353ef786ccf0ead53ee2219c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html#ae3883023353ef786ccf0ead53ee2219c">DS1961Scompatible</a> = false<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Specifies whether or not this coprocessor is compatible with the DS1961S. </p>
<p>This entails the use of a specifically padded authentication secret. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SHAiButtonCopr.java</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 6 2012 09:24:55 for 1-Wire API for .NET by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
