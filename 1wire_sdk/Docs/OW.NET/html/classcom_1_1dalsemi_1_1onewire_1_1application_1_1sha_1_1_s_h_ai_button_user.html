<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>1-Wire API for .NET: SHAiButtonUser Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">1-Wire API for .NET&#160;<span id="projectnumber">Version 4.00</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>com</b>      </li>
      <li class="navelem"><b>dalsemi</b>      </li>
      <li class="navelem"><b>onewire</b>      </li>
      <li class="navelem"><b>application</b>      </li>
      <li class="navelem"><b>sha</b>      </li>
      <li class="navelem"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pac-static-attribs">Static Package Attributes</a>  </div>
  <div class="headertitle">
<h1>SHAiButtonUser Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="com::dalsemi::onewire::application::sha::SHAiButtonUser" -->
<p>Inherited by <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user18.html">SHAiButtonUser18</a>, and <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user33.html">SHAiButtonUser33</a>.</p>

<p><a href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a2dcbc673c0bb44fce0d5b9e3df67cea1">getAccountPageNumber</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#ab06a8e838709d00ae12464f778a17269">getAccountFilename</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a99de0aadc298e8be98d4ba27d12000fe">getAddress</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#ac5d9af604a6368250718dc7dbf9488be">getAddress</a> (byte[] data, int offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a6e1781c67d7de3a442b2a791fc7b50f6">getAddress</a> (byte[] data, int offset, int cnt)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a250546be76aba46e7df78eb744891cda">setForceOverdrive</a> (boolean value)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets whether or not the container should be forced into overdrive.  <a href="#a250546be76aba46e7df78eb744891cda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a86a02a28dc9c8b3b688657b64a89d87e">getForceOverdrive</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports whether or not the container is forced into overdrive.  <a href="#a86a02a28dc9c8b3b688657b64a89d87e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a6f229de53ed9c9a688d05e43cff3f322">createServiceFile</a> (<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container.html">OneWireContainer</a> owc, String filename, boolean formatDevice)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecdceb50e33ccd2ce811aba2f6cf0b6b"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::address" ref="aecdceb50e33ccd2ce811aba2f6cf0b6b" args="" -->
byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#aecdceb50e33ccd2ce811aba2f6cf0b6b">address</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache of 1-Wire Address. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad14398ee7d944fda32071b5401de447c"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::accountData" ref="ad14398ee7d944fda32071b5401de447c" args="" -->
final byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#ad14398ee7d944fda32071b5401de447c">accountData</a> = new byte[32]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">local cache of accountData <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37f93720b7659a752c3f53731ac91583"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::accountPageNumber" ref="a37f93720b7659a752c3f53731ac91583" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a37f93720b7659a752c3f53731ac91583">accountPageNumber</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">page number account data is stored on <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff2dd353d80a405395c6fe794020f552"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::serviceFile" ref="aff2dd353d80a405395c6fe794020f552" args="" -->
final byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#aff2dd353d80a405395c6fe794020f552">serviceFile</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">used to construct appropriate string for OWFile constructor <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a556f705ed3744eab74cc27850c4ee224"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::strServiceFilename" ref="a556f705ed3744eab74cc27850c4ee224" args="" -->
String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a556f705ed3744eab74cc27850c4ee224">strServiceFilename</a> = null</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">stores string name of user's service file <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ecfde6989603510058d112cdd1678d5"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::fullBindCode" ref="a5ecfde6989603510058d112cdd1678d5" args="" -->
final byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a5ecfde6989603510058d112cdd1678d5">fullBindCode</a> = new byte[15]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">maintains a cache of the fullBindCode, for later binding of coprocessor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac125a6570f07ec25572ca24ab348b746"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::writeCycleCounter" ref="ac125a6570f07ec25572ca24ab348b746" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#ac125a6570f07ec25572ca24ab348b746">writeCycleCounter</a> = -1</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">local cache of writeCycleCounter for data page <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af66d2941629b1d4a5600429898006b11"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::forceOverdrive" ref="af66d2941629b1d4a5600429898006b11" args="" -->
boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#af66d2941629b1d4a5600429898006b11">forceOverdrive</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">force 1-wire container into overdrive speed <br/></td></tr>
<tr><td colspan="2"><h2><a name="pac-static-attribs"></a>
Static Package Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8270736aa6257cdc33f11a875840a05e"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::DEBUG" ref="a8270736aa6257cdc33f11a875840a05e" args="" -->
static final boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html#a8270736aa6257cdc33f11a875840a05e">DEBUG</a> = false</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on extra debugging output. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The abstract superclass for all users of a SHAiButton transaction system. The user in a SHA transaction system mainly consists of a page (or pages) of account data. The abstract superclass guarantees an interface for retrieving information about account data, as well as reading and writing that data.</p>
<p><code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a></code> was defined for use with the DS1963S (family code 0x18) and the DS1961S (family code 0x33). The benefit to using our SHA iButtons in a transaction is for device authentication. Using a challenge-response protocol, the DS1961S and the DS1963S can authenticate themselves to the system before their actual account data is verified. But, if device authentication isn't important to your transaction, the <code><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a></code> can be extended to support any 1-Wire memory device.</p>
<p>The format of user's account data is not specified by this class, only the interface for accessing it. Each different <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a> is free to implement whatever format is appropriate for the transaction type.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_a_transaction.html">SHATransaction</a> </dd>
<dd>
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_copr.html">SHAiButtonCopr</a> </dd>
<dd>
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user18.html">SHAiButtonUser18</a> </dd>
<dd>
<a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user33.html">SHAiButtonUser33</a></dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>1.00 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>SKH </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6f229de53ed9c9a688d05e43cff3f322"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::createServiceFile" ref="a6f229de53ed9c9a688d05e43cff3f322" args="(OneWireContainer owc, String filename, boolean formatDevice)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean createServiceFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1container_1_1_one_wire_container.html">OneWireContainer</a>&#160;</td>
          <td class="paramname"><em>owc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>formatDevice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create's empty service file for the user with the given filename. Also, it populates <code>accountPageNumber</code> with the page that the service file is stored on.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">owc</td><td>the 1-wire device where the service file will be created. </td></tr>
    <tr><td class="paramname">filename</td><td>the filename of the service file. </td></tr>
    <tr><td class="paramname">formatDevice</td><td>if <code>true</code>, the device is formatted before creating the service file. </td></tr>
  </table>
  </dd>
</dl>

<p><p>Asserts that proper account info exists for this <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> and establishes a buffer for caching account data.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ibc</td><td>the OneWireContainer whose account info is checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>whether or not the device is initialized properly</dd></dl>
<p>Modifies this SHA iButton so that it refers to another device. If this object already has an appropriate instance of OneWireContainer, that instance is updated with the new address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">adapter</td><td>The adapter that the device can be found on. </td></tr>
    <tr><td class="paramname">address</td><td>The address of the 1-Wire device</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if a valid account service file exists on this <code>OneWireContainer18</code>.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<p>Modifies this SHA iButton so that it refers to another device. If this object does not already has an appropriate instance of OneWireContainer, it returns false immediately, because there is no adapter info available. Otherwise, it reuses the same adapter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address of the 1-Wire device</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if a valid account service file exists on this <code>OneWireContainer18</code>.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the value of the write cycle counter for the page where the account data is stored. If the write cycle counter has ever been retrieved, this returns the cached value. Otherwise, this method reads the value from the part.</p>
<p>For devices that do not support write cycle counters, this method always returns -1.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value of the write cycle counter for the account data page.</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<p>Returns <code>true</code> if this buttons account data is stored on a page that has a write cycle counter.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>true</code> if account page has write cycle counter.</dd></dl>
<p>This function creates the full 15-byte binding data for the coprocessor to use to recreate this user's secret on the copr's workspace page. This function is located in the <a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1application_1_1sha_1_1_s_h_ai_button_user.html">SHAiButtonUser</a> class to support binding codes for user buttons who use alternate techniques (such as the DS1961S) for secret computation.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">bindCode</td><td>the 7-byte binding code from coprocessor's service file </td></tr>
    <tr><td class="paramname">fullBindCode</td><td>the 15-byte full binding code to to be copied into the coprocessor's scratchpad. There should be 15 bytes available starting from the offset. </td></tr>
    <tr><td class="paramname">offset</td><td>the offset into fullBindCode where copying should begin.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns a byte representing the appropriate authorization command for the coprocessor to use to authenticate this user. For a DS1961S, the authentication command is AUTH_HOST, but for a DS1963S, the authentication command is VALIDATE_PAGE.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>byte indicating appropriate command for authenticating user</dd></dl>
<p>Writes the account data to the SHAiButton. First, this function asserts that the account page number is known. The account data is copied from dataBuffer starting at the offset. If there are less than 32 bytes available to copy, this function only copies the bytes that are available.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dataBuffer</td><td>the buffer to copy the account data from </td></tr>
    <tr><td class="paramname">offset</td><td>the index into the buffer where copying should begin </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>whether or not the data write succeeded</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<p>Reads the account data off the SHAiButton using a standard READ command. First, this function asserts that the account page number is known as well as the length of the account file. The 32 byte account data page is copied into dataBuffer starting at the given offset.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dataBuffer</td><td>the buffer to copy the account data into </td></tr>
    <tr><td class="paramname">offset</td><td>the index into the buffer where copying should begin </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>whether or not the read was successful</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<p>Reads the account data off the SHAiButton using a READ_AUTHENTICATE command. First, this function asserts that the account page number is known as well as the length of the account file. Then it copies the 3 byte challenge to the scratchpad before sending the command for READ_AUTHENTICATE. The 32 byte account data page is copied into dataBuffer starting at dataStart.</p>
<p>In addition to the account data, this function also returns a calculated MAC. The MAC requires 20 bytes after the start index. The return value is the write cycle counter value for the account data page</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">chlg</td><td>the buffer containing a 3-byte random challenge. </td></tr>
    <tr><td class="paramname">chlgStart</td><td>the index into the buffer where the 3 byte challenge begins. </td></tr>
    <tr><td class="paramname">dataBuffer</td><td>the buffer to copy the account data into </td></tr>
    <tr><td class="paramname">dataStart</td><td>the index into the buffer where copying should begin </td></tr>
    <tr><td class="paramname">mac</td><td>the buffer to copy the resulting Message Authentication Code </td></tr>
    <tr><td class="paramname">macStart</td><td>the index into the mac buffer to start copying</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the value of the write cycle counter for the page</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname">OneWireIOException</td><td>on a 1-Wire communication error such as reading an incorrect CRC from a 1-Wire device. This could be caused by a physical interruption in the 1-Wire Network due to shorts or a newly arriving 1-Wire device issuing a 'presence pulse'. </td></tr>
    <tr><td class="paramname"><a class="el" href="classcom_1_1dalsemi_1_1onewire_1_1_one_wire_exception.html" title="This is the general exception thrown by the iButton and 1-Wire operations.">OneWireException</a></td><td>on a communication or setup error with the 1-Wire adapter</td></tr>
  </table>
  </dd>
</dl>
<p>Refreshes eeprom SHA devices in case of weakly-programmed bits on the account page.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the refresh was successful</dd></dl>
<p>Returns a string representing this SHAiButton.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a string containing the 8-byte address of this 1-Wire device.</dd></dl>
</p>

</div>
</div>
<a class="anchor" id="ab06a8e838709d00ae12464f778a17269"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::getAccountFilename" ref="ab06a8e838709d00ae12464f778a17269" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String getAccountFilename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the TMEX filename of the user's account data file.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>filename of user's account data file </dd></dl>

</div>
</div>
<a class="anchor" id="a2dcbc673c0bb44fce0d5b9e3df67cea1"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::getAccountPageNumber" ref="a2dcbc673c0bb44fce0d5b9e3df67cea1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getAccountPageNumber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the page number of the first memory page where account data is stored.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>page number where account data is stored. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5d9af604a6368250718dc7dbf9488be"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::getAddress" ref="ac5d9af604a6368250718dc7dbf9488be" args="(byte[] data, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getAddress </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies the 8 byte address of the OneWireContainer into the provided array starting at the given offset.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>array with at least 8 bytes after offset </td></tr>
    <tr><td class="paramname">offset</td><td>the index at which copying starts </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6e1781c67d7de3a442b2a791fc7b50f6"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::getAddress" ref="a6e1781c67d7de3a442b2a791fc7b50f6" args="(byte[] data, int offset, int cnt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getAddress </td>
          <td>(</td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies the specified number of bytes from the address of the OneWireContainer into the provided array starting at the given offset.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>array with at least cnt bytes after offset </td></tr>
    <tr><td class="paramname">offset</td><td>the index at which copying starts </td></tr>
    <tr><td class="paramname">cnt</td><td>the number of bytes to copy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a99de0aadc298e8be98d4ba27d12000fe"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::getAddress" ref="a99de0aadc298e8be98d4ba27d12000fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte [] getAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the 8 byte address of the OneWireContainer this SHAiButton refers to.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>8 byte array containing family code, address, and crc8 of the OneWire device. </dd></dl>

</div>
</div>
<a class="anchor" id="a86a02a28dc9c8b3b688657b64a89d87e"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::getForceOverdrive" ref="a86a02a28dc9c8b3b688657b64a89d87e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boolean getForceOverdrive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reports whether or not the container is forced into overdrive. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>if true, the container will be forced to overdrive </dd></dl>

</div>
</div>
<a class="anchor" id="a250546be76aba46e7df78eb744891cda"></a><!-- doxytag: member="com::dalsemi::onewire::application::sha::SHAiButtonUser::setForceOverdrive" ref="a250546be76aba46e7df78eb744891cda" args="(boolean value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setForceOverdrive </td>
          <td>(</td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets whether or not the container should be forced into overdrive. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>if true, the container will be forced to overdrive </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>SHAiButtonUser.java</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Dec 6 2012 09:24:55 for 1-Wire API for .NET by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
