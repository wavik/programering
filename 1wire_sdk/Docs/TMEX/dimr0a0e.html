<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
  
  <meta http-equiv="Content-Type"
 content="text/html; charset=Windows-1252">
  <title>TMDirectoryMR</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<h1><a name="tmdirectorymrmain"></a><img src="./images/ibuttons.gif"
 alt="" border="0">
 TMDirectoryMR  <a href="fiop6apj.html">Overview</a>  <a
 href="fiop1g38.html">Group</a></h1>
<p>The <b>TMDirectoryMR</b> API call <u>M</u>akes or <u>R</u>emoves a sub-directory
from the current directory.  There is an 'operation' flag that indicates if
the call is to make or remove a sub-directory. Here are the values of 'operation':</p>
<p>0 :  make sub-directory specified by FileEntry 'dir_buf'</p>
<p>1 :  remove sub-directory specified by FileEntry 'dir_buf'</p>
<p>Only the 'name' field of the <a href="file30mx.html"><b>FileEntry</b></a>
structure need be filled in before calling TMDirectoryMR.  Note that a sub-directory
is created empty and only an empty sub-directory can be removed.</p>
<b><tt><br>
short far pascal TMDirectoryMR(</tt></b><tt><br>
<b>long</b> <i>session_handle</i><b>,         </b>// session handle for the
desired 1-Wire network<br>
<b>void far *</b><i>state_buffer,</i>   // state buffer provided for the
1-Wire network session<br>
<b>short </b><i>operation,</i>                 // removing(1) or making(0)
a sub-directory<br>
<b>FileEntry far *</b><i>fentry</i>       // pointer to a structure with
the file information<br>
<b>);</b></tt>
<p>For a description of the above types, see the <a href="tmex4do3.html"><b>TMEX
Type Descriptions</b></a>.</p>
<p><b>Parameters</b></p>
<p><i>session_handle</i></p>
<p>Specifies the session handle returned from the API function <a
 href="exst8l9q.html"><b>TMExtendedStartSession</b></a> that specifies the
desired 1-Wire network port.  This parameter is required by most TMEX API
functions.</p>
<p><i>state_buffer</i></p>
<p>Specifies a pointer to a memory location that TMEX keeps all of the state
information for the 1-Wire networks. This parameter is required by most TMEX
API functions.</p>
<p><i>operation</i></p>
<p>Specifies whether making or removing the current directory.  (1) indicates
removing and (0) indicates making.</p>
<p><i>fentry</i></p>
<p>Specifies a pointer to a memory location that contains a <a
 href="file30mx.html"><b>FileEntry</b></a> structure.  This structure must
have the name and extension portions set before calling this API.  </p>
<p><b>Return Value</b></p>
<p>1   =&gt; operation is successful</p>
<p>&lt;0 =&gt; <a href="fiop6blf.html"><b>TMEX File Operations Error Return
Code</b></a></p>
<p><a href="dimr1cdh.html"><b>Code Example</b></a></p>
<p><b>See Also</b></p>
<p><a href="chdi23zi.html"><b>TMChangeDirectory</b></a>, <a
 href="fifi210u.html"><b>TMFirstFile</b></a></p>
<br>
<br>
</body>
</html>
