<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
  
  <meta http-equiv="Content-Type"
 content="text/html; charset=Windows-1252">
  <title>TMBlockStream</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<h1><a name="tmblockstreammain"></a><img src="./images/ibuttons.gif"
 alt="" border="0">
 <b>TMBlockStream  <a href="hso5i2f.html">Overview</a></b>  <a
 href="hsl3d84.html"><b>Group</b></a></h1>
<p>The <b>TMBlockStream</b> API call is a general purpose block transfer function.
 This function simply does a stream of <a href="toby91ri.html"><b>TMTouchByte</b></a>(s)
of all of the 'num_tran' bytes in the 'tran_buffer' data buffer.  The values
returned from the TMTouchByte(s) are placed back into the 'tran_buffer' data
buffer.  This call returns a byte length greater than or equal to 0 for success
or one of the HARDWARE SPECIFIC error values described for a failure. This
API call is similar to <a href="bloc7odq.html"><b>TMBlockIO</b></a> but without
the <a href="tore3fou.html"><b>TMTouchReset</b></a> at the beginning of communication.
 The maximum number of 'num_tran' is 1023 bytes.</p>
<pre><b><br></b></pre>
<tt><b>short far pascal TMBlockStream(</b><br>
<b>long</b> <i>session_handle</i><b>, </b>                      // session
handle for the desired 1-Wire network<br>
<b>unsigned char far *</b><i>tran_buffer,</i>  // buffer to hold the data
write and read<br>
<b>short</b> <i>num_tran</i>                                    // the number
of bytes to transfer to the 1-Wire network<br>
<b>);</b></tt>
<p>For a description of the above types, see the <a href="tmex4do3.html"><b>TMEX
Type Descriptions</b></a>.</p>
<p><b>Parameters</b></p>
<p><i>session_handle</i></p>
<p>Specifies the session handle returned from the API function <a
 href="exst8l9q.html"><b>TMExtendedStartSession</b></a> that specifies the
desired 1-Wire network port.  This parameter is required by most TMEX API
functions.</p>
<p><i>tran_buffer</i></p>
<p>Specifies a pointer to a memory location that contains the data to write
and then read from the 1-Wire network. </p>
<p><i>num_tran</i></p>
<p>Specifies the number of bytes in the ‘<i>tran_buffer’</i> to transfer to
and from the 1-Wire network. </p>
<p><b>Return Value</b></p>
<p>&gt;=0 =&gt; length of data sent and received from the 1-Wire network</p>
<p>&lt;0  =&gt; <a href="hse1tmb.html"><b>TMEX Hardware Specific Error Return
Code</b></a></p>
<p><a href="bloc07dx.html"><b>Code Example</b></a></p>
<p><b>See Also</b></p>
<p><a href="tore3fou.html"><b>TMTouchReset</b></a>, <a
 href="toby91ri.html"><b>TMTouchByte</b></a></p>
<br>
<br>
</body>
</html>
