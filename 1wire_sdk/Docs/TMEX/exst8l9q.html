<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=Windows-1252">
  <title>TMExtendedStartSession</title>
</head>
<body bgcolor="#ffffff" text="#000000">
<h1><a name="tmextendedstartsessionmain"></a><img
 src="./images/ibuttons.gif" alt="" border="0">
 TMExtendedStartSession  <a href="sess1ut3.html">Overview</a>  <a
 href="sess17as.html">Group</a></h1>
<p>The <b>TMExtendedStartSession</b> API call takes as an argument a port
number “PortNum” and a port type “PortType” of the 1-Wire network to be used.
 It can also optionally take a pointer to a long that represents enhanced
options.  It returns the session handle number if the session has been established,
and 0 to indicate that the 1-Wire network is busy with another session in
progress.  A session handle of less than 0 indicates that there is no driver
for the indicated type number.  See the section <a href="tmwi5ur7.html"><b>Microsoft
Windows TMEX Considerations</b></a> for details on what drivers are associated
with which type numbers.  It is recommended that the API call <a
 href="gety5t0u.html"><b>TMGetTypeVersion</b></a> be used to verify the port
type.   A session handle should be used and then as soon as possible ended
with <a href="ense05da.html"><b>TMEndSession</b></a>.  The session handle
is good indefinitely if no other application attempts to start a new session
on that 1-Wire network port.  The session handle can become invalid under
the following circumstances:</p>
<ul>
	<li>the session handle has not been used for at least 1 second 
    <p>And </p>
    <p>a request for the same 1-Wire network has been made  </p>
    <p>And </p>
    <p>Session handle expiration is not disabled 	</p>
  </li>
  <li>the handle has been used in the last second
    <p>And </p>
    <p>the handle is over 35 seconds old  </p>
    <p>And  </p>
    <p>a request for the same 1-Wire network has been made  </p>
    <p>And </p>
    <p>Session handle expiration is not disabled </p>
  </li>
</ul>
<tt><b><br>
long far pascal TMExtendedStartSession(</b><br>
<b>short </b><i>PortNum</i><b>,</b>             // Port number to get a session
to<br>
<b>short </b><i>PortType,</i>            // Port type number to get a session
to<br>
<b>void far *</b>EnhancedOptions  // A pointer for enhanced options (an optional
parameter)<br>
<b>);</b></tt>
<p>For a description of the above types, see the <a href="tmex4do3.html"><b>TMEX
Type Descriptions</b></a>.</p>
<p><b><br>
Parameters</b></p>
<p><i>PortNum</i></p>
<p>Specifies the port number that a session is desired on.  The valid port
number is 0 to 15.</p>
<p><i>PortType</i></p>
<p>Specifies the port type number that a session is desired on.  This number
will indicate which hardware driver is used.  The hardware port type drivers
are configurable.  The valid port type number is 0 to 15. </p>
<p><i>*EnhancedOptions</i>  (an optional parameter)</p>
<p>This parameter is optional.  If not needed, then pass a NULL pointer.
 EnhancedOptions is a pointer to a long (32 byte signed integer) with the
following bit field options:  </p>
<tt>SESSION_INFINITE          0x0001   session does not expire<br>
SESSION_RSRC_RELEASE      0x0002   port resources are released at each session
<br>
SESSION_NO_FORCE_REG_SPD  0x0004   regular speed is not forced on each session</tt>
<p><b><br>
Return Value</b></p>
<p>&gt;0  =&gt; session on port given session_handle returned</p>
<p>=0  =&gt; port not available, it is being used by another application</p>
<p>&lt;0 =&gt; <a href="sess12cz.html"><b>TMEX Session Error Return Codes</b></a></p>
<p><a href="exst0rmt.html"><b>Code Example</b></a></p>
<p><b><br>
See Also</b></p>
<p><a href="vase1wz2.html"><b>TMValidSession</b></a>, <a
 href="ense05da.html"><b>TMEndSession</b></a></p>
<br>
</body>
</html>
